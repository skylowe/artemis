# ARTEMIS Configuration: TR2025 Intermediate Assumptions
# Source: SSA Office of the Chief Actuary, 2025 Trustees Report

metadata:
  trustees_report_year: 2025
  alternative: "Intermediate"
  alternative_number: 2
  projection_period:
    start_year: 2025
    end_year: 2099
  valuation_date: "2025-01-01"

fertility:
  # Ultimate cohort TFR assumption
  ultimate_ctfr: 1.90
  # Cohort that first achieves ultimate CTFR
  ultimate_cohort_year: 2020
  # Age range for fertility calculations
  min_fertility_age: 14
  max_fertility_age: 49
  # Reference age for ratio calculations
  reference_age: 30
  # Ultimate attainment years
  projection_start_year: 2025
  ultimate_year: 2045
  age30_ultimate_year: 2036
  # Interpolation weight exponent
  weight_exponent: 1.5
  # Estimated TFR for 2024 (base year)
  tfr_estimate_2024: 1.62
  # Base year for projections (latest year with both birth and population data)
  rate_base_year: 2024
  # Years to exclude from trend calculations
  exclude_years:
    - 1997  # NCHS age imputation method change

mortality:
  # Projection parameters
  base_year: 2019  # Last pre-COVID year used for starting values
  projection_start_year: 2020

  # Regression parameters (for calculating historical AAx)
  regression_start_year: 2008
  regression_end_year: 2019
  regression_weights:
    # Weights for 12-year regression period
    # Years 1-4: 0.2, 0.4, 0.6, 0.8
    # Years 5-10: 1.0 each
    # Years 11-12: 2.0, 3.0
    year_1: 0.2
    year_2: 0.4
    year_3: 0.6
    year_4: 0.8
    year_5_10: 1.0
    year_11: 2.0
    year_12: 3.0
  negative_aax_factor: 0.75  # Multiply negative AAx by this factor for starting values

  # Transition parameters
  transition_rate: 0.80  # 80% of remaining difference each year
  transition_years: 24   # Years until ultimate values reached
  ultimate_year: 2043    # base_year + transition_years = 2019 + 24

  # Whittaker-Henderson smoothing parameters (per SSA documentation)
  whittaker_henderson:
    degree: 2           # d parameter (difference order)
    smoothing_param: 0.01  # lambda parameter
    age_range_min: 2
    age_range_max: 99

  # Age-specific parameters for ages 100+
  very_old_age:
    start_age: 100
    male_growth_rate: 1.05    # 5% annual increase in qx
    female_growth_rate: 1.06  # 6% annual increase in qx
    transition_ages: [100, 101, 102, 103, 104]  # Transition from q99/q98 ratio to growth rate

  # COVID-19 adjustment factors (applied to qx in 2024-2025)
  covid_adjustments:
    2024:
      age_0: 1.01
      age_1_14: 1.17
      age_15_64: 0.99
      age_65_84: 1.02
      age_85_plus: 0.98
    2025:
      age_0: 1.00
      age_1_14: 1.09
      age_15_64: 1.00
      age_65_84: 1.00
      age_85_plus: 1.00

  # =========================================================================
  # Ultimate Annual Percentage Reductions (AAx) by Age Group and Cause
  # =========================================================================
  # These are the long-term assumed rates of mortality improvement.
  # Values are percentages (e.g., 1.9 = 1.9% annual reduction in death rates)
  # Source: TR2025 Appendix 1.2-1, Intermediate Assumptions
  #
  # To customize: modify these values or create alternative config files
  # (e.g., tr2025_low_cost.yaml, tr2025_high_cost.yaml)
  # =========================================================================

  ultimate_aax:
    # Age group: Under 15 (ages 0-14)
    under_15:
      CVD: 1.9   # Cardiovascular disease
      CAN: 1.5   # Cancer (malignant neoplasms)
      ACV: 1.0   # Accidents and violence
      RES: 2.0   # Respiratory disease
      DEM: 0.1   # Dementia
      OTH: 1.7   # All other causes

    # Age group: 15-49
    age_15_49:
      CVD: 1.3
      CAN: 1.5
      ACV: 0.7
      RES: 0.5
      DEM: 0.1
      OTH: 0.8

    # Age group: 50-64
    age_50_64:
      CVD: 1.5
      CAN: 1.5
      ACV: 0.5
      RES: 0.7
      DEM: 0.1
      OTH: 0.6

    # Age group: 65-84
    age_65_84:
      CVD: 1.9
      CAN: 0.9
      ACV: 0.5
      RES: 0.3
      DEM: 0.1
      OTH: 0.3

    # Age group: 85+ (ages 85-119)
    age_85_plus:
      CVD: 1.5
      CAN: 0.5
      ACV: 0.3
      RES: 0.2
      DEM: 0.1
      OTH: 0.3

  # Age group boundaries for ultimate AAx
  age_groups:
    under_15:
      min_age: 0
      max_age: 14
    age_15_49:
      min_age: 15
      max_age: 49
    age_50_64:
      min_age: 50
      max_age: 64
    age_65_84:
      min_age: 65
      max_age: 84
    age_85_plus:
      min_age: 85
      max_age: 119

  # Cause of death categories (ICD-10 mapping)
  causes:
    CVD:
      name: "Cardiovascular Disease"
      description: "Heart disease and cerebrovascular disease"
    CAN:
      name: "Cancer"
      description: "Malignant neoplasms"
    ACV:
      name: "Accidents and Violence"
      description: "Unintentional injuries and intentional self-harm/assault"
    RES:
      name: "Respiratory Disease"
      description: "Chronic lower respiratory diseases, influenza, pneumonia"
    DEM:
      name: "Dementia"
      description: "Alzheimer's disease and other dementias"
    OTH:
      name: "All Other Causes"
      description: "All causes not included above"

immigration:
  # =========================================================================
  # LPR Immigration Configuration (TR2025 Intermediate Assumptions)
  # =========================================================================
  # Source: SSA 2025 Long-Range Model Documentation, Section 1.3

  lpr:
    # Projection parameters
    projection_start_year: 2025

    # Total LPR immigration assumptions (TR2025 Intermediate)
    # These are gross immigration (before emigration)
    total_lpr:
      2024: 1263000
      2025: 1213000
      2026: 1213000
      ultimate: 1050000
      ultimate_year: 2027

    # Age range for immigration
    min_age: 0
    max_age: 99

    # Distribution source and reference years (CBO single-year age data)
    # NOTE: TR2025 uses DHS single-year data from special OCACT arrangement.
    # We use CBO data as it's publicly available with single-year ages.
    distribution_source: "cbo"
    distribution_years: [2021, 2022, 2023, 2024]

    # NEW/AOS split method:
    # - "assumption": Use TR2025 V.A2 values directly (450K AOS, recommended)
    # - "ratio": Use historical ratio from DHS data (produces ~533K-616K AOS)
    new_aos_split_method: "assumption"

    # NEW/AOS ratio source and reference years (DHS aggregate data)
    # Only used when new_aos_split_method = "ratio"
    # Ratio calculated from DHS 2016-2019 (excluding COVID-affected 2020)
    new_aos_ratio_source: "dhs"
    new_aos_ratio_years: [2016, 2017, 2018, 2019]

    # Fiscal-to-calendar year conversion method
    fiscal_to_calendar_method: "simple"  # or "weighted" (requires quarterly data)

  # =========================================================================
  # Legal Emigration Configuration
  # =========================================================================

  emigration:
    # Emigration ratio (percent of LPR immigration that emigrates)
    ratio: 0.25  # 25% per TR2025

    # Distribution source
    # NOTE: TR methodology uses Census 1980-1990 data, but we use CBO 2021-2024
    # data as Census estimates are unpublished. See plan document for details.
    distribution_source: "cbo"
    distribution_years: [2021, 2022, 2023, 2024]

  # Net LPR immigration = gross LPR - emigration = 75% of gross LPR
  # 2024: 947,250 (75% of 1,263,000)
  # 2025-26: 909,750 (75% of 1,213,000)
  # 2027+: 787,500 (75% of 1,050,000)
  ultimate_net_lpr_immigration: 787500

  # Placeholder for other immigration types (to be implemented)
  ultimate_net_other_immigration: null

# Data source configuration
data_sources:
  historical_birth_data:
    start_year: 1980
    end_year: 2023
  historical_rate_data:
    start_year: 1917
    end_year: 1979
  population_estimates:
    start_year: 1980
    end_year: 2024
  # Census Bureau population estimates vintage
  # 2024: Latest data with 2020 Census revisions (default)
  # 2023: Earlier vintage, closer to what TR2025 used for 2020-2022
  # Note: Both vintages incorporate 2020 Census baseline, so 2019+ will
  # differ from TR2025 which used pre-2020 Census estimates
  census_vintage: 2023
